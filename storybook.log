yarn add v1.22.19
warning ..\..\..\..\..\package.json: No license field
warning package-lock.json found. Your project contains lock files generated by tools other than Yarn. It is advised not to mix package managers in order to avoid resolution inconsistencies caused by unsynchronized lock files. To clear this warning, remove package-lock.json.
[1/5] Validating package.json...
[2/5] Resolving packages...
[3/5] Fetching packages...
warning Pattern ["strip-ansi@^6.0.1"] is trying to unpack in the same destination "C:\\Users\\paybr\\AppData\\Local\\Yarn\\Cache\\v6\\npm-strip-ansi-cjs-6.0.1-integrity\\node_modules\\strip-ansi-cjs" as pattern ["strip-ansi-cjs@npm:strip-ansi@^6.0.1"]. This could result in non-deterministic behavior, skipping.
warning Pattern ["string-width@^4.1.0"] is trying to unpack in the same destination "C:\\Users\\paybr\\AppData\\Local\\Yarn\\Cache\\v6\\npm-string-width-cjs-4.2.3-integrity\\node_modules\\string-width-cjs" as pattern ["string-width-cjs@npm:string-width@^4.2.0"]. This could result in non-deterministic behavior, skipping.
warning Pattern ["strip-ansi@^6.0.0"] is trying to unpack in the same destination "C:\\Users\\paybr\\AppData\\Local\\Yarn\\Cache\\v6\\npm-strip-ansi-cjs-6.0.1-integrity\\node_modules\\strip-ansi-cjs" as pattern ["strip-ansi-cjs@npm:strip-ansi@^6.0.1"]. This could result in non-deterministic behavior, skipping.
warning Pattern ["string-width@^4.2.0"] is trying to unpack in the same destination "C:\\Users\\paybr\\AppData\\Local\\Yarn\\Cache\\v6\\npm-string-width-cjs-4.2.3-integrity\\node_modules\\string-width-cjs" as pattern ["string-width-cjs@npm:string-width@^4.2.0"]. This could result in non-deterministic behavior, skipping.
[4/5] Linking dependencies...
warning "@storybook/addon-info > react-element-to-jsx-string@14.3.4" has incorrect peer dependency "react-dom@^0.14.8 || ^15.0.1 || ^16.0.0 || ^17.0.1".
warning "@storybook/addon-info > @storybook/addons > @storybook/api@5.3.21" has unmet peer dependency "regenerator-runtime@*".
warning "@storybook/addon-info > @storybook/addons > @storybook/api > @reach/router@1.3.4" has incorrect peer dependency "react-dom@15.x || 16.x || 16.4.0-alpha.0911da3".
warning " > babel-loader@9.1.3" has unmet peer dependency "webpack@>=5".
warning "@storybook/react-vite > @joshwooding/vite-plugin-react-docgen-typescript@0.3.0" has unmet peer dependency "vite@^3.0.0 || ^4.0.0 || ^5.0.0".
warning "@storybook/react-vite > @storybook/builder-vite@8.0.0" has unmet peer dependency "vite@^4.0.0 || ^5.0.0".
warning " > @storybook/react-vite@8.0.0" has unmet peer dependency "vite@^4.0.0 || ^5.0.0".
[5/5] Building fresh packages...
success Saved lockfile.
success Saved 49 new dependencies.
info Direct dependencies
├─ @chromatic-com/storybook@1.2.18
├─ @storybook/addon-interactions@8.0.0
├─ @storybook/addon-onboarding@8.0.0
├─ @storybook/blocks@8.0.0
├─ @storybook/react-vite@8.0.0
└─ @storybook/test@8.0.0
info All dependencies
├─ @adobe/css-tools@4.3.3
├─ @chromatic-com/storybook@1.2.18
├─ @jest/schemas@29.6.3
├─ @joshwooding/vite-plugin-react-docgen-typescript@0.3.0
├─ @sinclair/typebox@0.27.8
├─ @storybook/addon-interactions@8.0.0
├─ @storybook/addon-onboarding@8.0.0
├─ @storybook/blocks@8.0.0
├─ @storybook/builder-vite@8.0.0
├─ @storybook/instrumenter@8.0.0
├─ @storybook/preview@8.0.0
├─ @storybook/react-vite@8.0.0
├─ @storybook/test@8.0.0
├─ @testing-library/dom@9.3.4
├─ @testing-library/jest-dom@6.4.2
├─ @testing-library/user-event@14.5.2
├─ @types/aria-query@5.0.4
├─ @types/find-cache-dir@3.2.1
├─ @types/glob@7.2.0
├─ @types/minimatch@5.1.2
├─ @vitest/expect@1.1.3
├─ @vitest/spy@1.3.1
├─ @vitest/utils@1.1.3
├─ assertion-error@1.1.0
├─ chai@4.4.1
├─ check-error@1.0.3
├─ chromatic@11.0.8
├─ css.escape@1.5.1
├─ deep-eql@4.1.3
├─ deep-equal@2.2.3
├─ diff-sequences@29.6.3
├─ dom-accessibility-api@0.5.16
├─ es-get-iterator@1.1.3
├─ es-module-lexer@0.9.3
├─ filesize@10.1.0
├─ get-func-name@2.0.2
├─ glob-promise@4.2.2
├─ loupe@2.3.7
├─ lz-string@1.5.0
├─ min-indent@1.0.1
├─ pathval@1.1.1
├─ react-confetti@6.1.0
├─ react-docgen-typescript@2.2.2
├─ react-docgen@7.0.3
├─ redent@3.0.0
├─ stop-iteration-iterator@1.0.0
├─ strip-indent@4.0.0
├─ tsconfig-paths@4.2.0
└─ tween-functions@1.2.0
$ tsdx build
C:\Users\paybr\OneDrive\Documentos\pb\pb-components\pb-components\node_modules\ora\index.js:7
const stripAnsi = require('strip-ansi');
                  ^

Error [ERR_REQUIRE_ESM]: require() of ES Module C:\Users\paybr\OneDrive\Documentos\pb\pb-components\pb-components\node_modules\strip-ansi\index.js from C:\Users\paybr\OneDrive\Documentos\pb\pb-components\pb-components\node_modules\ora\index.js not supported.
Instead change the require of C:\Users\paybr\OneDrive\Documentos\pb\pb-components\pb-components\node_modules\strip-ansi\index.js in C:\Users\paybr\OneDrive\Documentos\pb\pb-components\pb-components\node_modules\ora\index.js to a dynamic import() which is available in all CommonJS modules.
    at Object.<anonymous> (C:\Users\paybr\OneDrive\Documentos\pb\pb-components\pb-components\node_modules\ora\index.js:7:19) {
  code: 'ERR_REQUIRE_ESM'
}

Node.js v20.11.0
error Command failed with exit code 1.
info Visit https://yarnpkg.com/en/docs/cli/add for documentation about this command.
